!function(a){a.fn.coordinates=function(b){var c={title:"click for somethingelse",error:{type:"it's not a table"},extra:a.noop,color:{on:"red",off:this.css("color")||"black"}},d=a.extend(c,b),e=d["class"]||null;return this.each(function(){var b=a(this);if(!b.is("table"))return console.log(d.error.type),b;b.find("tr>td").css("cursor","pointer");var c=b.find("th").length,f=b.find("td").filter(function(a){return a%c}).attr("title",d.title).hover(function(){var c=a(this),f=c.index(),g=c.parent().index(),h=b.find("th").eq(f),i=b.find("tr").eq(g).find("td:first");e?(h.addClass(e),i.addClass(e),c.addClass(e)):(a.data(this,"color-th",h.css("color")||d.color.off),h.css("color",d.color.on),a.data(this,"color-tr",i.css("color")||d.color.off),i.css("color",d.color.on),a.data(this,"color-cell",c.css("color")||d.color.off),c.css("color",d.color.on));var j=parseFloat(c.text()).toFixed(2),k=j*parseInt(i.text()),l=k*(1+b.data("tva")),m=b.find("caption").text()+"\n"+i.text()+" bucati pe "+h.text()+" grame\n"+j+" pret bucata \n"+k.toFixed(2)+" pret total\n"+l.toFixed(2)+" pret cu tva\npreturi in "+b.data("valute");a.data(c,"title")||a.data(c,"title",m),c.attr("title",a.data(c,"title")),a.isFunction(d.onmouseover)&&d.onmouseover(a(this))},function(){var c=a(this),f=c.index(),g=c.parent().index(),h=b.find("th").eq(f),i=b.find("tr").eq(g).find("td:first");e?(h.removeClass(e),i.removeClass(e),c.removeClass(e)):(h.css("color",a.data(this,"color-th")),i.css("color",a.data(this,"color-tr")),c.css("color",a.data(this,"color-cell"))),a.isFunction(d.onmouseout)&&d.onmouseout(a(this))}).click(function(){a.isFunction(d.onclick)&&d.onclick(a(this))});a.isFunction(d.extra)&&d.extra.call(b,a(f))})}}(jQuery);